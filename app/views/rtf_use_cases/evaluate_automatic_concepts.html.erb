<% content_for :title, "Importar archivo" %> 

<head>
  <link rel="stylesheet" type="text/css" href="/stylesheets/bootstrap.css" />
  <link rel="stylesheet" type="text/css" href="/stylesheets/bootstrap-responsive.css" />
</head>

<div class="page-header">
  <div class="row">
    <div class="span6">
      <h2><%= @rtf.subsystem.name %>  </h2>
      <h3>Pertenece a <%= @rtf.subsystem.system.name %> </h3>
      <h3>Tipo: <%= @rtf.subsystem.system.system_type.name  %> </h3><br/>
      <%= link_to 'Atrás', rtf_use_cases_import_file_path, { :class => "btn btn-small btn-primary" } %> 
    </div>
    <br/><br/>
    <div class="span5 well">
      <h4>
        Escala de calificaciones: 
        <h4><em>4 - Totalmente&nbsp;&nbsp;&nbsp;</em><em>3 - Casi todo&nbsp;&nbsp;&nbsp;</em><em> 2 - La mitad&nbsp;&nbsp;&nbsp;</em><em> 1 - Escasamente&nbsp;&nbsp;&nbsp;</em> </h4>     
    </div>
  </div>
</div>

<div class="row-fluid">
  <div class="span8">
    <table class="table table-striped table-bordered table-condensed">
      <thead>
      <th></th>
      <th>Concepto</th>
      <th>Calificación</th>
      </thead>
      <tbody>
        <% if @rtf_concepts.include? @concepts[0].id %>
          <tr><td><%= @concepts[0].id %> </td><td><%= @concepts[0].description %> </td> <td><%= @grade_concept_3 %> </td></tr>
        <% end %>
        <% if @rtf_concepts.include? @concepts[1].id %>
          <tr><td><%= @concepts[1].id %> </td><td><%= @concepts[1].description %> </td> <td><%= @grade_concept_5 %> </td></tr>
        <% end %>
        <% if @rtf_concepts.include? @concepts[2].id %>
          <tr><td><%= @concepts[2].id %> </td><td><%= @concepts[2].description %> </td> <td><%= @grade_concept_6 %> </td></tr>
        <% end %>
        <% if @rtf_concepts.include? @concepts[3].id %>
          <tr><td><%= @concepts[3].id %> </td><td><%= @concepts[3].description %> </td> <td><%= @grade_concept_10 %> </td></tr>
        <% end %>
        <% if @rtf_concepts.include? @concepts[4].id %>
          <tr><td><%= @concepts[4].id %> </td><td><%= @concepts[4].description %> </td> <td><%= @grade_concept_12 %> </td></tr>
        <% end %>
        <% if @rtf_concepts.include? @concepts[5].id %>
          <tr><td><%= @concepts[5].id %> </td><td><%= @concepts[5].description %> </td> <td><%= @grade_concept_14 %> </td></tr>
        <% end %>
        <% if @rtf_concepts.include? @concepts[6].id %>
          <tr><td><%= @concepts[6].id %> </td><td><%= @concepts[6].description %> </td> <td><%= @grade_concept_16 %> </td></tr>
        <% end %>
        <% if @rtf_concepts.include? @concepts[7].id %>
          <tr><td><%= @concepts[7].id %> </td><td><%= @concepts[7].description %> </td> <td><%= @grade_concept_17 %> </td></tr>
        <% end %>
        <% if @rtf_concepts.include? @concepts[8].id %>
          <tr><td><%= @concepts[8].id %> </td><td><%= @concepts[8].description %> </td> <td><%= @grade_concept_19 %> </td></tr>
        <% end %>
        <% if @rtf_concepts.include? @concepts[9].id %>
          <tr><td><%= @concepts[9].id %> </td><td><%= @concepts[9].description %> </td> <td><%= @grade_concept_20 %> </td></tr>
        <% end %>
        <% if @rtf_concepts.include? @concepts[10].id %>
          <tr><td><%= @concepts[10].id %> </td><td><%= @concepts[10].description %> </td> <td><%= @grade_concept_21 %> </td></tr>
        <% end %>
        <% if @rtf_concepts.include? @concepts[11].id %>
          <tr><td><%= @concepts[11].id %> </td><td><%= @concepts[11].description %> </td> <td><%= @grade_concept_25 %> </td></tr>
        <% end %>
        <% if @rtf_concepts.include? @concepts[12].id %>
          <tr><td><%= @concepts[12].id %> </td><td><%= @concepts[12].description %> </td> <td><%= @grade_concept_26 %> </td></tr>
        <% end %>
        <% if @rtf_concepts.include? @concepts[13].id %>
          <tr><td><%= @concepts[13].id %> </td><td><%= @concepts[13].description %> </td> <td><%= @grade_concept_29 %> </td></tr>
        <% end %>   
      </tbody>
    </table>
 
    <div class="accordion" id="detalles_conceptos">
      <div class="accordion-group">
        <div class="accordion-heading">
          <a class="accordion-toggle" data-toggle="collapse" data-parent="detalles_conceptos" href="#detalles">
            DETALLE DE LA EVALUACIÓN 
          </a>
        </div>
        <div id="detalles" class="accordion-body collapse in">
          <div class="accordion-inner">
            <table class="table table-striped table-bordered table-condensed">
              <thead>
                <th>Concepto</th>
                <th>Descripción</th>
              </thead>
              <tbody>
                <% if @rtf_concepts.include? @concepts[0].id %>
                  <tr><td>3</td><td>Número de actores que no están en el modelo de dominio: <%= @bad_actors.count %> </td></tr>
                <% end %>
                  
                <% if @rtf_concepts.include? @concepts[1].id %>
                  <tr><td>5</td><td>Número de actores que no están expresados en singular: <%= @bad_actors_singular  %> </td></tr>
                <% end %>
                
                <% if @rtf_concepts.include? @concepts[2].id %>
                  <tr><td>6</td><td>Número total de actores: <%= @actors_count %></td></tr>
                <% end %>
                  
                <% if @rtf_concepts.include? @concepts[3].id %>
                  <tr><td>10</td><td>Número de casos de uso con descripción en infinitivo: <%= @good_descriptions %> / <%=  @total_use_cases %> </td></tr>
                <% end %>
                  
                <% if @rtf_concepts.include? @concepts[4].id %>
                  <tr><td>12</td><td>Número de casos de uso organizados en paquetes: <%= @use_cases_from_package %> / <%=  @total_use_cases %> </td></tr>
                <% end %>
                  
                <% if @rtf_concepts.include? @concepts[5].id %>
                  <tr><td>14</td><td>Número de casos de uso repetidos: <%= @repeated_use_cases %>  </td></tr>
                <% end %>
                  
                <% if @rtf_concepts.include? @concepts[6].id %>
                  <tr><td>16</td><td>Número de casos de uso con requerimientos: <%= @use_cases_with_requerimients %> / <%= @total_use_cases  %>  </td></tr>
                <% end %>
                  
                <% if @rtf_concepts.include? @concepts[7].id %>
                  <tr><td>17</td><td>Número de casos de uso con al menos una prueba: <%= @usescases_with_test.count  %> / <%= @total_use_cases %>  </td></tr>
                <% end %>
                
                <% if @rtf_concepts.include? @concepts[8].id %>
                  <tr><td>19</td><td>Número de casos de prueba con estatus: <%= @test_with_status  %> / <%= @tests.count %>  </td></tr>
                <% end %>
                
                <% if @rtf_concepts.include? @concepts[9].id %>
                  <tr><td>20</td><td>Número de casos de prueba con tipo: <%= @test_with_types %> / <%= @tests.count %>  </td></tr>
                <% end %>
                
                <% if @rtf_concepts.include? @concepts[10].id %>
                  <tr><td>21</td><td>Número de casos de uso con descripciones: <%= @how_many_use_cases_with_description %> / <%= @total_use_cases  %>  </td>
                <% end %>
                  
                <% if @rtf_concepts.include? @concepts[11].id %>
                  <tr><td>25</td><td>Número de casos con al menos un escenario básico: <%= @use_cases_with_escenarios.count %> / <%= @total_use_cases  %>  </td>
                <% end %>
                
                <% if @rtf_concepts.include? @concepts[12].id %>
                   <tr><td>26</td><td>Número de casos con al menos un escenario alterno: <%= @use_cases_with_altern_scenarios.count %> / <%= @total_use_cases  %>  </td>
                <% end %>
                
                <% if @rtf_concepts.include? @concepts[13].id %>
                   <tr><td>30</td><td>Elementos compuestos sin escenarios asociados: <%= @good_compounds  %> / <%=@use_cases_with_compounds.count %>  </td></tr>
                <% end %>  
                
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
 
    <div class="form-actions">
      <%= link_to "CONTINUAR", rtf_use_cases_show_concepts_path(:rtf_id => @rtf.id),{ :class => "btn btn-primary" }  %>     
    </div>
    
  </div>
  
  <div class="span3">
    <div style="OVERFLOW: auto; HEIGHT: 500px;  WIDTH:400px">
      <ul class="nav nav-list">
        <li class="nav-header">Actores del modelo de dominio</li>     
        <% @actors_domain.each do |actor| %>
          <li><%= image_tag("/actors.png") %>&nbsp;<%= actor %> </li>
        <% end %>
      </ul>

      <ul class="nav nav-list">
        <li class="nav-header">Actores del diagrama de casos de uso</li>
        <% @actors_use_case.each do |actor| %>
          <li><%= image_tag("/actors.png") %>&nbsp;<%= actor %> </li>
        <% end %>
      </ul>

      <ul class="nav nav-list">
        <li class="nav-header">Paquetes y Casos de uso asociados</li>
        <% @packages.each do |package| %>
          <li><%= image_tag("/package.png") %>&nbsp;<%= package %> </li>
          <% use_cases = @rtf_usecase.get_use_cases_from_package(package) %>
          <ul class="nav nav-list">
             <% use_cases.each do |use_case| %>
              <li><%= image_tag("/u_case.png") %>&nbsp;<%= use_case %> </li>
            <% end %>
          </ul>
        <% end %>
      </ul>

      <ul class="nav nav-list">
        <li class="nav-header">Casos de uso sin paquete</li>
        <% @use_cases_without_packages.each do | use_case| %>
          <li><%= image_tag("/u_case.png") %>&nbsp;<%= use_case %> </li>
        <% end %>
      </ul>

      <ul class="nav nav-list">
        <li class="nav-header">Casos de uso y pruebas asociadas</li>
        <% @usescases_with_test.each do |use_case, tests| %>
          <li><%= image_tag("/u_case.png") %>&nbsp;<%= use_case %> </li>
          <ul class="nav nav-list">
            <% tests.each do |test| %>
              <li><%= image_tag("/check_box.png") %>&nbsp;<%= test %>  </li>
            <% end %>
          </ul>
        <% end %>
      </ul>

      <ul class="nav nav-list">
        <li class="nav-header">Elementos compuestos</li>
        <% @use_cases_with_compounds.each do | use_case| %>
          <li><%= image_tag("/u_case.png") %>&nbsp;<%= use_case %> </li>
        <% end %>
      </ul>
    </div>
    
  </div>
</div>

<script type="text/javascript" src="/javascripts/application.js"></script>
<script type="text/javascript" src="/javascripts/bootstrap-collapse.js"></script>
<script>
    $('#detalles').collapse('hide')
</script>
